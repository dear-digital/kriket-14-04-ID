{% for block in section.blocks %}
  {% if block.settings.collection == collection.handle %}
    <section class="product-feature">
      <h2 class="product-feature__title">{{ block.settings.title }}</h2>
      <div class="product-feature__image">
        <a href="{{ block.settings.link }}">
          <img src={{ block.settings.image | img_url: "2000x" }} alt="{{ block.settings.subtitle }}"">
        </a>
      </div>
      <div class="product-feature__content">
        <div class="product-feature__subtitle">{{ block.settings.subtitle }}</div>
        <div class="product-feature__body">{{ block.settings.content }}</div>
      </div>
    </section>
  {% endif %}
{% endfor %}

{% schema %}
{
  "name": "Feature Prod on Coll",
  "blocks": [
    {
      "name": "Featured Product",
      "type": "featured-product",
      "settings": [
        {
          "id": "collection",
          "type": "collection",
          "label": "Show on collection page"
        },
        {
          "id": "title",
          "type": "text",
          "label": "Title",
          "default": "I'm the title"
        },
        {
          "id": "subtitle",
          "type": "text",
          "label": "Subtitle",
          "default": "I'm the subtitle"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content",
          "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in neque quis sem pretium placerat.</p>"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Feature Product F. Collection"
    }
  ]
}
{% endschema %}
